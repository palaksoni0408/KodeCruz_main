"use strict";

// src/config/schema-fuzzer.test.ts
var import_apps_config = require("../apps/apps-config.js");
var import_currency_constants = require("../utils/currency-constants.js");
var import_errors = require("../utils/errors.js");
var import_objects = require("../utils/objects.js");
var import_strings = require("../utils/strings.js");
var import_format = require("./format.js");
var import_schema = require("./schema.js");
var branchSchemaFuzzerConfig = [{
  apiKeys: [{
    enabled: [{
      team: [true, false],
      user: [true, false]
    }]
  }],
  auth: [{
    allowSignUp: [true, false],
    password: [{
      allowSignIn: [true, false]
    }],
    otp: [{
      allowSignIn: [true, false]
    }],
    passkey: [{
      allowSignIn: [true, false]
    }],
    oauth: [{
      accountMergeStrategy: ["link_method", "raise_error", "allow_duplicates"],
      providers: [{
        "google": [{
          type: ["google", "github", "x"],
          allowSignIn: [true, false],
          allowConnectedAccounts: [true, false]
        }]
      }]
    }]
  }],
  dataVault: [{
    stores: [{
      "some-store-id": [{
        displayName: ["Some Store", "Some Other Store"]
      }],
      "some-other-store-id": [{
        displayName: ["Some Store", "Some Other Store"]
      }]
    }]
  }],
  payments: [{
    testMode: [false, true],
    autoPay: [{
      interval: [[[0, 1, -3, 100, 0.333, Infinity], ["day", "week", "month", "year"]]]
    }],
    catalogs: [{
      "some-catalog-id": [{
        displayName: ["Some Catalog", "Some Other Catalog"]
      }]
    }],
    groups: [{
      "some-catalog-id": [{
        displayName: ["Some Catalog", "Some Other Catalog"]
      }]
    }],
    items: [{
      "some-item-id": [{
        customerType: ["user", "team", "custom"],
        displayName: ["Some Item", "Some Other Item"]
      }]
    }],
    products: [{
      "some-product-id": [{
        displayName: ["Some Product", "Some Other Product"],
        customerType: ["user", "team", "custom"],
        freeTrial: [[[0, 1, -3, 100, 0.333, Infinity], ["day", "week", "month", "year"]]],
        serverOnly: [true, false],
        stackable: [true, false],
        catalogId: ["some-catalog-id", "some-other-catalog-id"],
        groupId: ["some-catalog-id", "some-other-catalog-id"],
        // ensure migration works
        isAddOnTo: [false, { "some-product-id": [true], "some-other-product-id": [true] }],
        prices: ["include-by-default", {
          "some-price-id": [{
            ...(0, import_objects.typedFromEntries)(import_currency_constants.SUPPORTED_CURRENCIES.map((currency) => [currency.code, ["100_00", "not a number", "Infinity", "0"]])),
            interval: [[[0, 1, -3, 100, 0.333, Infinity], ["day", "week", "month", "year"]]],
            serverOnly: [true, false],
            freeTrial: [[[0, 1, -3, 100, 0.333, Infinity], ["day", "week", "month", "year"]]]
          }]
        }],
        includedItems: [{
          "some-item-id": [{
            quantity: [0, 1, -3, 100, 0.333, Infinity],
            repeat: ["never", [[0, 1, -3, 100, 0.333, Infinity], ["day", "week", "month", "year"]]],
            expires: ["never", "when-purchase-expires", "when-repeated"]
          }]
        }]
      }]
    }]
  }],
  emails: [{
    themes: [{
      "12345678-1234-4234-9234-123456789012": [{
        displayName: ["Some Theme", "Some Other Theme"],
        tsxSource: ["", "some typescript source code"]
      }]
    }],
    selectedThemeId: ["some-theme-id", "some-other-theme-id"],
    templates: [{
      "12345678-1234-4234-9234-123456789012": [{
        themeId: ["some-theme-id", "some-other-theme-id"],
        displayName: ["Some Template", "Some Other Template"],
        tsxSource: ["", "some typescript source code"]
      }]
    }]
  }],
  teams: [{
    createPersonalTeamOnSignUp: [true, false],
    allowClientTeamCreation: [true, false]
  }],
  users: [{
    allowClientUserDeletion: [true, false]
  }],
  rbac: [{
    permissions: [{
      "some_permission_id": [{
        containedPermissionIds: [{
          "some_permission_id": [true],
          "$some_other_permission_id": [true]
        }],
        description: ["Some Permission", "Some Other Permission"],
        scope: ["team", "project"]
      }]
    }],
    defaultPermissions: [{
      teamCreator: [{
        "some_permission_id": [true],
        "$some_other_permission_id": [true]
      }],
      teamMember: [{
        "some_permission_id": [true],
        "$some_other_permission_id": [true]
      }],
      signUp: [{
        "some_permission_id": [true],
        "$some_other_permission_id": [true]
      }]
    }]
  }],
  domains: [{
    allowLocalhost: [true, false]
  }],
  apps: [{
    installed: [(0, import_objects.typedFromEntries)((0, import_objects.typedEntries)(import_apps_config.ALL_APPS).map(([key, value]) => [key, [{
      enabled: [true, false]
    }]]))]
  }]
}];
var environmentSchemaFuzzerConfig = [{
  ...branchSchemaFuzzerConfig[0],
  auth: [{
    ...branchSchemaFuzzerConfig[0].auth[0],
    oauth: [{
      ...branchSchemaFuzzerConfig[0].auth[0].oauth[0],
      providers: [(0, import_objects.typedFromEntries)((0, import_objects.typedEntries)(branchSchemaFuzzerConfig[0].auth[0].oauth[0].providers[0]).map(([key, value]) => [key, [{
        ...value[0],
        isShared: [true, false],
        clientId: ["some-client-id"],
        clientSecret: ["some-client-secret"],
        facebookConfigId: ["some-facebook-config-id"],
        microsoftTenantId: ["some-microsoft-tenant-id"]
      }]]))]
    }]
  }],
  domains: [{
    ...branchSchemaFuzzerConfig[0].domains[0],
    trustedDomains: [{
      "some-domain-id": [{
        baseUrl: ["https://example.com/something-here"],
        handlerPath: ["/something-here"]
      }]
    }]
  }],
  emails: [{
    ...branchSchemaFuzzerConfig[0].emails[0],
    server: [{
      isShared: [true, false],
      provider: ["resend", "smtp"],
      host: ["example.com", "://super weird host that's not valid"],
      port: [1234, 0.12543, -100, Infinity],
      username: ["some-username", "some username with a space"],
      password: ["some-password", "some password with a space"],
      senderName: ["Some Sender"],
      senderEmail: ["some-sender@example.com", "some invalid email"]
    }]
  }]
}];
//# sourceMappingURL=schema-fuzzer.test.js.map