import * as yup from 'yup';
import { InferType } from 'yup';
import { DayInterval } from '../../utils/dates.mjs';

declare const transactionEntrySchema: yup.MixedSchema<{
    type: "money_transfer";
    charged_amount: {
        USD?: string | undefined;
        EUR?: string | undefined;
        GBP?: string | undefined;
        JPY?: string | undefined;
        INR?: string | undefined;
        AUD?: string | undefined;
        CAD?: string | undefined;
    };
    net_amount: {
        USD: string;
    };
    adjusted_transaction_id: string | null;
    adjusted_entry_index: number | null;
    customer_type: "user" | "team" | "custom";
    customer_id: string;
} | {
    type: "item_quantity_change";
    adjusted_transaction_id: string | null;
    adjusted_entry_index: number | null;
    customer_type: "user" | "team" | "custom";
    customer_id: string;
    item_id: string;
    quantity: number;
} | {
    subscription_id?: string | undefined;
    one_time_purchase_id?: string | undefined;
    type: "product_grant";
    adjusted_transaction_id: string | null;
    adjusted_entry_index: number | null;
    customer_type: "user" | "team" | "custom";
    customer_id: string;
    quantity: number;
    product_id: string | null;
    product: {
        client_metadata?: {} | null | undefined;
        client_read_only_metadata?: {} | null | undefined;
        server_metadata?: {} | null | undefined;
        free_trial?: DayInterval | undefined;
        display_name: string;
        customer_type: "user" | "team" | "custom";
        server_only: boolean;
        stackable: boolean;
        prices: Record<string, {
            USD?: string | undefined;
            EUR?: string | undefined;
            GBP?: string | undefined;
            JPY?: string | undefined;
            INR?: string | undefined;
            AUD?: string | undefined;
            CAD?: string | undefined;
            free_trial?: DayInterval | undefined;
            interval?: DayInterval | undefined;
        }>;
        included_items: Record<string, {
            repeat?: "never" | DayInterval | undefined;
            quantity?: number | undefined;
            expires?: "never" | "when-purchase-expires" | "when-repeated" | undefined;
        }>;
    };
    price_id: string | null;
} | {
    type: "product_revocation";
    adjusted_transaction_id: string;
    adjusted_entry_index: number;
    quantity: number;
} | {
    type: "product_revocation_reversal";
    adjusted_transaction_id: string;
    adjusted_entry_index: number;
    quantity: number;
}, yup.AnyObject, undefined, "">;
type TransactionEntry = InferType<typeof transactionEntrySchema>;
declare const TRANSACTION_TYPES: readonly ["purchase", "subscription-cancellation", "subscription-renewal", "manual-item-quantity-change", "chargeback", "product-change"];
type TransactionType = (typeof TRANSACTION_TYPES)[number];
declare const transactionSchema: yup.ObjectSchema<{
    id: string;
    created_at_millis: number;
    effective_at_millis: number;
    type: "purchase" | "subscription-cancellation" | "subscription-renewal" | "manual-item-quantity-change" | "chargeback" | "product-change" | null;
    entries: ({
        type: "money_transfer";
        charged_amount: {
            USD?: string | undefined;
            EUR?: string | undefined;
            GBP?: string | undefined;
            JPY?: string | undefined;
            INR?: string | undefined;
            AUD?: string | undefined;
            CAD?: string | undefined;
        };
        net_amount: {
            USD: string;
        };
        adjusted_transaction_id: string | null;
        adjusted_entry_index: number | null;
        customer_type: "user" | "team" | "custom";
        customer_id: string;
    } | {
        type: "item_quantity_change";
        adjusted_transaction_id: string | null;
        adjusted_entry_index: number | null;
        customer_type: "user" | "team" | "custom";
        customer_id: string;
        item_id: string;
        quantity: number;
    } | {
        subscription_id?: string | undefined;
        one_time_purchase_id?: string | undefined;
        type: "product_grant";
        adjusted_transaction_id: string | null;
        adjusted_entry_index: number | null;
        customer_type: "user" | "team" | "custom";
        customer_id: string;
        quantity: number;
        product_id: string | null;
        product: {
            client_metadata?: {} | null | undefined;
            client_read_only_metadata?: {} | null | undefined;
            server_metadata?: {} | null | undefined;
            free_trial?: DayInterval | undefined;
            display_name: string;
            customer_type: "user" | "team" | "custom";
            server_only: boolean;
            stackable: boolean;
            prices: Record<string, {
                USD?: string | undefined;
                EUR?: string | undefined;
                GBP?: string | undefined;
                JPY?: string | undefined;
                INR?: string | undefined;
                AUD?: string | undefined;
                CAD?: string | undefined;
                free_trial?: DayInterval | undefined;
                interval?: DayInterval | undefined;
            }>;
            included_items: Record<string, {
                repeat?: "never" | DayInterval | undefined;
                quantity?: number | undefined;
                expires?: "never" | "when-purchase-expires" | "when-repeated" | undefined;
            }>;
        };
        price_id: string | null;
    } | {
        type: "product_revocation";
        adjusted_transaction_id: string;
        adjusted_entry_index: number;
        quantity: number;
    } | {
        type: "product_revocation_reversal";
        adjusted_transaction_id: string;
        adjusted_entry_index: number;
        quantity: number;
    })[];
    adjusted_by: {
        transaction_id: string;
        entry_index: number;
    }[];
    test_mode: boolean;
}, yup.AnyObject, {
    id: undefined;
    created_at_millis: undefined;
    effective_at_millis: undefined;
    type: undefined;
    entries: undefined;
    adjusted_by: undefined;
    test_mode: undefined;
}, "">;
type Transaction = InferType<typeof transactionSchema>;

export { TRANSACTION_TYPES, type Transaction, type TransactionEntry, type TransactionType, transactionEntrySchema, transactionSchema };
